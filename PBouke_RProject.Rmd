---
title: "M&SFA"
author: "Bouke"
date: "9/25/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
df <- read.csv("Speed_Dating_Data.csv", header = TRUE)
library(dplyr)
library(ggplot2)
library(knitr)
df <- df[!duplicated(df$iid), ]
```

Chapter_1_Introduction
In a world where people seek love yet nobody has time, speed-dating seems to be a useful outcome. As people are known to judge the feasibility of a potential romance in a span of mere moments, getting exposure of a few minutes to a large number of people allows for efficient dating. But, are people even aware of what they really want? And do they act upon their perceived preferences? Analysis of speed-dating data provides an insight into the decision-making process of potential lovers, and might be able to provide awareness of key success and failure factors in speed-dating. Ultimately, such analysis may provide for suggestions to date more effectively. 

From 2002-2004 professors of the Columbia Business School analysed speed-daters to evaluate these questions. Respondents were asked to fill out a questionaire in which they were asked to divide 100 points over six attributes of attractiveness, to indicate their perceived importance of each attribute. These attributes are: attractiveness, sincerity, intelligence, fun, ambition, and shared interests. Furthermore, respondents provided details about their demographics, the perceived importance of someone's racial background, their dating frequency, and the goal of participating in speed-dating events. Over the course of time over 550 respondents were monitored.
  Each date lasts for four minutes, after which respondents were able to indicate whether they would match with their date or not. Moreover, each date should be assessed in terms of the six attributes of attractiveness. This allows for comparing people's stated preferences with the characteristics of partners with whom they wanted to match. Four weeks after the dating night, respondents were again asked to distribute 100 points over the six attributes of attractiveness, which provides insight into the development of our preferences as a result of speed-dating. 
  
The further contents of this report detail the findings of an exploratory study towards speed-dating behaviour. The objective has been to identify interesting or remarkable revelations from the dataset. The study was structured by sequentially exploring the data by the hand of the following questions: 
1) What were the characteristics of the set of respondents - in statistics? 
2) What do the respondents look for in their partners, and do differences exist between various demographical groups? 
3) Do people act on their stated preferences during the dating experiments? 
4) How did people follow-up and adapt to the speed-dating night?
5) What lessons can be taken from this analysis? 

Chapter 2: Descriptive Statistics 
(..)

```{r Chapter_2_Descriptive_statistics}
# Clean the data set 
# First clean our preferences data set
columns <- c("attr1_1", "sinc1_1", "intel1_1", "fun1_1", "amb1_1", "shar1_1")
elements <- c("attr", "sinc", "intel", "fun", "amb", "shar")
j = 1
totalrow = dim(df)[1]

# summary(df[elements])  #check that the min and max is correct (clean)

while (j <= totalrow) {  #repeat for each row
  totalscore = 0  #compute total score for each row
  for (i in columns){
    totalscore = totalscore + df[j,i]
  }
  for (i in columns){   #compute the normalised score for each elements
    df[j,i] = df[j,i] * 100 / totalscore
  }  
  j = j + 1
}
```

Chapter 3: What do people want? 

The first question that arises when questioning whether (main question) is to consider the preferences of the surveyed population in advance of the speed-dating experiment. The population is segmented based on the charactestics from the previous sections, namely: a) Gender; b) Age; c) Race; d) Dating frequency; e) Goal of dating; and f) the confidence level of participants. The preferences in these segments are evaluated and compared, to see whether there are any interesting differences between the segments. In the next section these insights will be used to evaluate the question whether people actually act on their stated preferences, or whether, generally speaking, people tend to display different behaviour once faced with actual persons.

The first object of interest are the preferences of men and women. 

```{r Gender}
# Prepare data and storage method 
female <- df[ which(df$gender == 0), ]
male <- df[ which(df$gender == 1), ]

Attribute <- c(1:12)
Gender <- c(1:12)
Score <- c(1:12)
mtrx <- data.frame(Gender, Attribute, Score)
mtrx[1:6,2] <- elements
mtrx[7:12,2] <- elements
mtrx[1:6,1] <- 'Female' 
mtrx[7:12,1] <- 'Male' 

# Calculate average values 
for (i in 1:6){
  mtrx[i,3] <- mean(female[,columns[i]], na.rm=TRUE)
  mtrx[i+6,3] <- mean(male[,columns[i]], na.rm=TRUE)
}
kable(mtrx)

# Plot the average attribute values per attribute by race 
ggplot(data = mtrx) + geom_col(aes(x = Attribute, y = Score)) + facet_grid(~ Gender)
```

It seems that there are some interesting differences between men and women. On average, women think the most important trait of a potential partner is intelligence, while deviding points approximately equally amongst attractiveness, sincerity, and fun. Men place very significant importance on looks, giving on average 27 points to this attribute that women gave only 18. Intelligence and fun approximately share second place, while ambition is hardly at all considered important! 

Are there more differences between men and women? Do guys and girls think equally about looking for people from the same race, and are there any differences when the age is considered?

```{r Gender_and_race}
age <- 26
y_female <- female[ which(female$age <= age), ]
o_female <- female[ which(female$age > age), ]
y_male <- male[ which(male$age <= age), ]
o_male <- male[ which(male$age > age), ]

racepref_matrix <- matrix(data = c(1:4), nrow = 2, ncol = 2)
racepref_matrix[1,1] <- mean(y_female$imprace, na.rm = TRUE)
racepref_matrix[2,1] <- mean(o_female$imprace, na.rm = TRUE)
racepref_matrix[1,2] <- mean(y_male$imprace, na.rm = TRUE)
racepref_matrix[2,2] <- mean(o_male$imprace, na.rm = TRUE)
colnames(racepref_matrix) <- c('Female', 'Male')
rownames(racepref_matrix) <- c('Young', 'Old')
kable(racepref_matrix)

par(mfrow=c(1,2))
barplot(racepref_matrix[,1], xlab = "Age", ylab = "Average score in importance of race", main = "Female", ylim = c(0,5))
barplot(racepref_matrix[,2], xlab = "Age", ylab = "Average score in importance of race", main = "Male", ylim = c(0,5))
```

Young females seem to have a relatively much stronger preference for partners of the same race than the rest of the surveyed population, rating this trait with a full point higher on average. 

Looking at the differences in between the older and younger half of the population, it seems that age has little influence on the preferences of people:

```{r Age}
age <- 25
young <- df[ which(df$age < age), ]
old <- df[ which(df$age >= age), ]
# Do people that date frequently have different preferences than people that do not ?
Attribute <- c(1:12)
Age_group <- c(1:12)
Score <- c(1:12)
mtrx <- data.frame(Age_group, Attribute, Score)
mtrx[1:6,2] <- elements
mtrx[7:12,2] <- elements
mtrx[1:6,1] <- 'Young' 
mtrx[7:12,1] <- 'Old' 

for (i in 1:6){
  mtrx[i,3] <- mean(young[,columns[i]], na.rm=TRUE)
  mtrx[i+6,3] <- mean(old[,columns[i]], na.rm=TRUE)
}
kable(mtrx)

# Plot the average attribute values per attribute by race 
ggplot(data = mtrx) + geom_col(aes(x = Attribute, y = Score)) + facet_grid(~ Age_group)
```

Does one's racial background influence their preferences for a certain partner? 

```{r Race_preferences}
# Furthermore, we are interested in the variation in main preferences over race 
# Generate a matrix with the mean values for attribute scores for each race 
race_names <-  c("African", "Caucasian", "Latino", "Asian")
race_att_matrix <- matrix(c(1:24), nrow = 6, ncol = 4)
rownames(race_att_matrix) <- columns
colnames(race_att_matrix) <- race_names

for (y in c(1:4)){
  race_df <- df[ which(df$race == y), ]
  for (i in columns){
    race_att_matrix[i,y] <- mean(race_df[,i], na.rm=TRUE)}
}
print(race_att_matrix)

# Plot the average attribute values per attribute by race 
par(mfrow=c(3,2))
for (z in c(1:6)){
  barplot(race_att_matrix[z,], xlab = "Race", ylab = "Average score in attribute", ylim = c(0, 25), main = elements[z])
}

# Plot the average attribute values by attribute per race 
rownames(race_att_matrix) <- elements
par(mfrow=c(2,2))
for (z in c(1:4)){
  barplot(race_att_matrix[,z], xlab = "Attribute", ylab = "Average score in attribute", ylim = c(0, 25), main = race_names[z])
}
```

Caucasian respondents are looking for partners they deem attractive and intelligent. Asians prefer attractive, but sincere partners, while Latinos above all seek intelligence and rank attractiveness second. Africans agree with Caucasians. 

A more sensitive subject may be the influence of someone's race on their choices. How important is it to the respondents that their speed-dating partner has the same racial background? This opinion could be rated on a scale from 1-10. As shown in the barchart, this seems to be an especially important condition for people with a North-American or European background, while Latinos are more indifferent. 

```{r Race_importance}
average_rimp <- matrix(c(1:4), nrow = 4, ncol = 1)
rownames(average_rimp) <- race_names
for (i in c(1:4)){
race_nimp <- df[ which(df$race == i), ]
average_rimp[i,1] <- mean(race_nimp$imprace, na.rm=TRUE)}
barplot(average_rimp[,1], xlab = "Racial background", ylab = "Average score imprace")
```

And does the frequency with which people go on a date matter much? We define high dating frequency as all scores from 1:3, and low dating frequency as all scores from 4:7. 

```{r Dating_rate}
# Next plot is dating rate. 
cut_off <- 3
low_date <- df[ which(df$date >= cut_off), ]
high_date <- df[ which(df$date < cut_off), ]
# Do people that date frequently have different preferences than people that do not ?
Attribute <- c(1:12)
Dating_rate <- c(1:12)
Score <- c(1:12)
mtrx <- data.frame(Dating_rate, Attribute, Score)
mtrx[1:6,2] <- elements
mtrx[7:12,2] <- elements
mtrx[1:6,1] <- 'Low_rate' 
mtrx[7:12,1] <- 'High_rate' 

for (i in 1:6){
  mtrx[i,3] <- mean(low_date[,columns[i]], na.rm=TRUE)
  mtrx[i+6,3] <- mean(high_date[,columns[i]], na.rm=TRUE)
}
kable(mtrx)

# Plot the average attribute values per attribute by race 
ggplot(data = mtrx) + geom_col(aes(x = Attribute, y = Score)) + facet_grid(~ Dating_rate)
# 
```

This is interesting! People that date often rate attractiveness a lot higher .. by 8 points! But what is the influence of the purpose of someone's participation? Respondents were asked to state the goal of their participation from the following list: 
(..)

```{r Serious_relationship}

# Look for preference differences between people who say they are looking for a serious relationship goal = 4, and people who come for a fun night out (goal = 1) or for being able to say they did it (goal = 5)
serious <- df[ which(df$goal == 4), ]
not_serious <- df[ which(df$goal == 1), ]
# Do people that date frequently have different preferences than people that do not ?
serious_matrix <- matrix(c(1:12), nrow = 6, ncol = 2)
rownames(serious_matrix) <- columns
colnames(serious_matrix) <- c("Serious", "Not serious")

for (i in columns){
  serious_matrix[i,1] <- mean(serious[,i], na.rm=TRUE)
  serious_matrix[i,2] <- mean(not_serious[,i], na.rm=TRUE)
}
kable(serious_matrix)
# We do not see significant differences, except for a higher sincerity score of about 3. 
```

Not surprisingly, people that indicate they have a serious purpose with speed-dating are more likely to value sincerity in their partner. It will be interesting to see whether this holds up once they actually make their decisions for matches. 

```{r}
# Comments: transforming the rows for visualisation
# gender_matrix <- melt(as.data.frame(gender_matrix)) 
# gather(gender_matrix, key, -female) %>% separate(key, c("attr", "sinc", "intel", "fun", "amb", "shar"))
# gender_matrix
# ggplot(data=)) + geom_bar(aes(x = female, ))

```





```
###Do We Know What We Want In Choosing Our Dating Partners?###

###Approach###

We want to evaluate whether people know what they are looking for in choosing a partner.  In another words, we want to compare the responses between what participants gave before the dating event, and what participants chose during the dating event.

Participants are asked what they are looking for in the opposite sex before the dating event.  They evaluated 6 attributes:  attractive ('attr'), sincere ('sinc'), intellent ('intel'), fun ('fun'), ambitious ('amb'), and shared interests ('shar').  

Different waves of participants were asked to rate these 6 attributes in 2 different scoring methodologies:

1.  Distribute 100 points across 6 attributes, giving more points to those attributes they deemed more important in a potential date, and fewer points to these attributes that are less important in a potential date.

2.  Rate the importance of each attribute in a potential date on a scale of 1 to 10 with 1 being not at all important and 10 being extremely important.

In order to do a proper comparison, we normalise all the ratings by getting a Total Score which is the sum of all the scores for all 6 attributes, and multiply each rating by the Normalisation Ratio = 100 / Total Score.

For this evaluation, we examinates 2 sets of attributes:

1.  Scoring before the dating event:  attr1_1, sinc1_1, intel1_1, fun1_1, amb1_1, shar1_1
2.  Scoring after meeting each potential date:  attr, sinc, intel, fun, amb, shar

Scatter plots of each attributes are presented below comparing the scoring before and after meeting each potential date.

In addition, correlation test is done for each attributes to check whether there is any difference between the scoring before and after meeting each potential date.

We investigate the results according to gender and race which the following classifications:

**Gender**

+ Male:  Gender = 1
+ Female:  Gender = 0

**Race**

+ Black/African American: Race = 1
+ European/Caucasian-American: Race = 2
+ Latino/Hispanic American:  Race = 3
+ Asian/Pacific Islander/Asian-American:  Race = 4
+ Native American:  Race = 5
+ Other:  Race = 6

```{r echo=FALSE, warning=FALSE, message=FALSE}
library(dplyr)
library(ggplot2)

originset <- read.csv("Speed_Dating_Data.csv", header = TRUE)

elements = c("attr", "sinc", "intel", "fun", "amb", "shar")
j = 1
totalrow = dim(originset)[1]

while (j <= totalrow) {  #repeat for each row
  totalscore = 0  #compute total score for each row
  for (i in elements){
    totalscore = totalscore + originset[j,i]
  }
  for (i in elements){   #compute the normalised score for each elements
    originset[j,i] = originset[j,i] * 100 / totalscore
  }  
  j = j + 1
}

elements = c("attr1_1", "sinc1_1", "intel1_1", "fun1_1", "amb1_1", "shar1_1")
j = 1
totalrow = dim(originset)[1]

while (j <= totalrow) {  #repeat for each row
  totalscore = 0  #compute total score for each row
  for (i in elements){
    totalscore = totalscore + originset[j,i]
  }
  for (i in elements){   #compute the normalised score for each elements
    originset[j,i] = originset[j,i] * 100 / totalscore
  }  
  j = j + 1
}

originset$gender = ifelse(originset$gender==0, "Female", "Male")
```

###Plots, Tests and Analysis of each Attribute by each Gender###

```{r echo = FALSE}
matchedset <- filter(originset, dec==1)
nomatchset <- filter(originset, dec==0)

matchedmale = filter(matchedset, gender=="Male")
matchedfemale = filter(matchedset, gender=="Female")

nomatchmale = filter(nomatchset, gender=="Male")
nomatchfemale = filter(nomatchset, gender=="Female")
```

####1. Ambitious Attribute####

**Correlation Tests of Attribute Scored by Male Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedmale$amb, matchedmale$amb1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedfemale$amb, matchedfemale$amb1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Male Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchmale$amb, nomatchmale$amb1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchfemale$amb, nomatchfemale$amb1_1, alternative = "two.sided")
```

**Plots of Attribute Scored by Participants for Matched (Decision = 1) and No Match Outcomes**

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=amb1_1, x=amb, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored AMBITIOUS on the scorecard ", y="What people intially said about AMBITIOUS")

ggplot(nomatchset, aes(y=amb1_1, x=amb, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'NO' to meeting again", x="What people actually scored AMBITIOUS on the scorecard ", y="What people intially said about AMBITIOUS")
```

From the plots and the correlation tests, where there is a match (decision to meet = 1), there is a positive but weak correlationship for the Ambitious (Amb) attribute for both genders, with female placing a higher weightage for Ambitious compared to male.  However, in the plot where there is no match (decision to meet = 0), male showed that they are not meeting those who have lower Ambitious score than what they were looking for but the correlation is weak.  Female is not consistent here as they have rejected those who met their expectation but the correlation is also weak.  Other attributes may have played more strongly in their decisions.

####2. Intelligent Attribute####

**Correlation Tests of Attribute Scored by Male Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedmale$intel, matchedmale$intel1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedfemale$intel, matchedfemale$intel1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Male Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}  
cor.test(nomatchmale$intel, nomatchmale$intel1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchfemale$intel, nomatchfemale$intel1_1, alternative = "two.sided")
```

**Plots of Attribute Scored by Participants for Matched (Decision = 1) and No Match (Decision = 0) Outcomes**

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=intel1_1, x=intel, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored INTELLIGENT on the scorecard ", y="What people intially said about INTELLIGENT")
```

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(nomatchset, aes(y=intel1_1, x=intel, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'NO' to meeting again", x="What people actually scored INTELLIGENT on the scorecard ", y="What people intially said about INTELLIGENT")
```

From the correlation tests and scatter plots for Intelligent attribute (Intel), we can see that all the lines are almost horizontal, meaning there is no correlation between what people wanted and what people chose.  This could mean that people did not put much weight in intelligent attribute in choosing their dates.

####3. Shared Interest Attribute####

**Correlation Tests of Attribute Scored by Male Participants for Matched (Decision = 1) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(matchedmale$shar, matchedmale$shar1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedfemale$shar, matchedfemale$shar1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Male Participants for No Match (Decision = 0) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchmale$shar, nomatchmale$shar1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchfemale$shar, nomatchfemale$shar1_1, alternative = "two.sided")
```

**Plots of Attribute Scored by Participants for Matched (Decision = 1) and No Match (Decision = 0) Outcomes**

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=shar1_1, x=shar, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored SHARED INTERESTS on the scorecard ", y="What people intially said about SHARED INTERESTS")
```

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(nomatchset, aes(y=shar1_1, x=shar, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'NO' to meeting again", x="What people actually scored SHARED INTERESTS on the scorecard ", y="What people intially said about SHARED INTERESTS")
```

From the scatter plots, we see that there is a moderate correlationship for Shared Interests (Shar) attribute for female participants in choosing their dating partners.  There is no correlationship for Shared Interest attribute for male participants.  Neither is there any correlationship for both male and female participants in not choosing their dating partners based on Shared Interest attribute. 

####4. Fun Attribute####

**Correlation Tests of Attribute Scored by Male Participants for Matched (Decision = 1) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(matchedmale$fun, matchedmale$fun1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedfemale$fun, matchedfemale$fun1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Male Participants for No Match (Decision = 0) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchmale$fun, nomatchmale$fun1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchfemale$fun, nomatchfemale$fun1_1, alternative = "two.sided")
```

**Plots of Attribute Scored by Participants for Matched (Decision = 1) and No Match (Decision = 0) Outcomes**

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=fun1_1, x=fun, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored FUN on the scorecard ", y="What people intially said about FUN")
```

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(nomatchset, aes(y=fun1_1, x=fun, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'NO' to meeting again", x="What people actually scored FUN on the scorecard ", y="What people intially said about FUN")
```

From the correlation tests and scatter plots, both genders showed that there is a positive but very weak correlationship between what they wanted their partners to be fun and what they eventually chose.  Similarly, there is a weak negative correlationship in deciding not to meet a potential date.  In another words, both genders showed that they are rather consistent, thought weak, in their choice of a potential date when the other party meets their desired level of being fun.

####5. Attractive Attribute####

**Correlation Tests of Attribute Scored by Male Participants for Matched (Decision = 1) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(matchedmale$attr, matchedmale$attr1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedfemale$attr, matchedfemale$attr1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Male Participants for No Match (Decision = 0) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchmale$attr, nomatchmale$attr1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchfemale$attr, nomatchfemale$attr1_1, alternative = "two.sided")
```

**Plots of Attribute Scored by Participants for Matched (Decision = 1) and No Match (Decision = 0) Outcomes**

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=attr1_1, x=attr, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored ATTRACTIVE on the scorecard ", y="What people intially said about ATTRACTIVE")
```

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(nomatchset, aes(y=attr1_1, x=attr, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'NO' to meeting again", x="What people actually scored ATTRACTIVE on the scorecard ", y="What people intially said about ATTRACTIVE")
```

When comes to being attractive, male participants are rather consistent in chosing someone being attractive and rejecting someone being less attractive than what they have preferred but the correlationship is weak.  However, famale participants are less concerned about their partner being attractive as there is almost zero correlationship showed by the relatively flat lines for both accepting or rejecting someone. 

####6. Sincere Attribute####

**Correlation Tests of Attribute Scored by Male Participants for Matched (Decision = 1) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(matchedmale$sinc, matchedmale$sinc1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for Matched (Decision = 1) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(matchedfemale$sinc, matchedfemale$sinc1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Male Participants for No Match (Decision = 0) Outcome**

```{r echo = FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchmale$sinc, nomatchmale$sinc1_1, alternative = "two.sided")
```

**Correlation Tests of Attribute Scored by Female Participants for No Match (Decision = 0) Outcome**

```{r echo=FALSE, warning=FALSE, message=FALSE}
cor.test(nomatchfemale$sinc, nomatchfemale$sinc1_1, alternative = "two.sided")
```

**Plots of Attribute Scored by Participants for Matched (Decision = 1) and No Match (Decision = 0) Outcomes**

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=sinc1_1, x=sinc, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored SINCERE on the scorecard ", y="What people intially said about SINCERE")
```

```{r echo=FALSE, warning=FALSE, message=FALSE}
ggplot(nomatchset, aes(y=sinc1_1, x=sinc, color = factor(gender)))+
  geom_point()+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored SINCERE on the scorecard ", y="What people intially said about SINCERE")
```

Male participants have shown slight positive correlationship in their preferance and their final choice of date for those they perceived to be sincere.  Surprisingly, females are relatively indifference in their decisions based on sincerity.

###Linear Modelling of Decision###

**Linear Model for Decision by Male Participants**
```{r echo = FALSE, warning=FALSE, message=FALSE}
maleset <- filter(originset, gender=="Male")
femaleset <- filter(originset, gender=="Female")
m <- lm(formula = dec ~ fun + attr + shar, data = maleset)
summary(m)
```

**Linear Model for Decision by Female Participants**
```{r echo = FALSE, warning=FALSE, message=FALSE}
f <- lm(formula = dec ~ fun + attr + shar, data = femaleset)
summary(f)
```

We attempt to create a model for the decision taken by male and female participants respectively.  After removing attributes with high p-values, we are left with Fun, Attractive and Shared Interest attributes for both male and female paricipants.  However, the adjusted R-square of both models are low.  There may be other variables that determine the final decision for choosing someone to date.  We could carry out further analysis of the self-preception score and check how the relative score of the potential date may affect the choice and create a better model for decision.

###Plots and Analysis of each Attribute by each Race###

####1. Ambitious Attribute####
```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=amb1_1, x=amb, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm',size = 1)+labs(title="People who said 'YES' to meeting again", x="What people actually scored on the scorecard ", y="What people intially said about AMBITION")

ggplot(nomatchset, aes(y=amb1_1, x=amb, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm',size = 1)+
  labs(title="People who said 'NO' to meeting again", x="What people actually scored AMBITION on the scorecard ", y="What people intially said about AMBITION")
```

The axes have been drawn in a way that how participants initially rate the importance of the following attributes in a potential date on a scale of 100 is on the vertical axis and  what the participants actually scored for their partners during the meeting is on the horizontal axis.

In this part of the report,consistency of the answers based on the different races is going to be examined.

Valuation of ambition attribute among the participants who would like to meet the person they are talking to again is parallel with what they had stated before.As it can clearly be seen that all the lines are having a positive gradiant,in this case it is possible to say that all races more or less sticked with their initial opinion on the importance of ambition attribute and thus,a positive correlation exists for those who said yes.On the other hand,the participants who rejected the contacted-person show a different pattern than those who said yes to their partners.When the green line examined,namely Latino/Hispanic Americans,it is interesting to see that even if there is a strong correlation for the importance of ambition level in their selection decisions,still they did not the chose the person they are in touch based on thier ambition score.It may be concluded that the other factors played a greater role in their choice.The same can be said for the rest of the races hovewer, the inconsistance level on what they said but they acted otherwise is less for other the other races.Overall, ambition parameter played a more significant role among the "YESSERS!" than it played among "NOERS!"

####2. Intelligent Attribute####
```{r echo = FALSE, warning=FALSE, message=FALSE}

ggplot(matchedset, aes(y=intel1_1, x=intel, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+
  labs(title="People who said 'YES' to meeting again", x="What people actually scored on the scorecard ", y="What people intially said about INTELLEGENCE")
  

ggplot(nomatchset, aes(y=intel1_1, x=intel, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'NO' to meeting again", x="What people actually scored INTELLEGENCE on the scorecard ", y="What people intially said about INTELLEGENCE")

```

When it comes to the intelligence attribute among the participants who said "YES"",it is being observed that overall, the results are approximately in a form of straight line, with a positive gradient. We therefore say that there is a positive but weak correlation within Asian/Pacific Islander Americans,blue line,and Latino/Hispanic Americans with respect to what they scored on the scorebord card.On contrast,Black Americans,red line,experienced a negative gradient which corresponds to a negative correlation.That may lead us to a conclusion that even though Black Americans did not assign a high value for intelligence parameter in the beginning,during the meeting they choosed the one with a higher intelligence capacity.For participants who said "NO", there is not a strong correlation with their choice and scorings.

####3. Shared Interest Attribute####
```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=shar1_1, x=shar, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'YES' to meeting again", x="What people actually scored on the scorecard ", y="What people intially said about SHARED INTEREST")

ggplot(nomatchset, aes(y=shar1_1, x=shar, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'NO' to meeting again", x="What people actually scored SHARED INTEREST on the scorecard ", y="What people intially said about SHARED INTEREST")
```

Looking at the graph of shared interest attribute,for all the races but the Asian/Pacific Islander Americans,it can be observed that there is a strong positive correlation with their intial and scored bored evaluation.This help us draw the conclusion of shared interest played a signficant role in partner selection.Among people who refused their partner,it is interesting that although there is a strong corretaion among Latino's scorings,they still refused ther partner.

####4. Fun Attribute####

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=fun1_1, x=fun, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'YES' to meeting again", x="What people actually scored on the scorecard ", y="What people intially said about FUN ")

ggplot(nomatchset, aes(y=fun1_1, x=fun, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'NO' to meeting again", x="What people actually scored FUN on the scorecard ", y="What people intially said about FUN")
```

According the plot,while having a negative correlation on Fun parameter, all the races except Asian/Pacific Islander Americans agreed on going out with their partners.What can be concluded is that Fun attribute does not a play an important role in partner selection for all those races with the negative correlation.However,for those from Asian/Pacific Islander Americans race,the decison they made looks consistent with how they scored their partners.

####5. Attractive Attribute####

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=attr1_1, x=attr, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+
 labs(title="People who said 'YES' to meeting again", x="What people actually scored on the scorecard ", y="What people intially said about ATTRACTIVENESS")

ggplot(nomatchset, aes(y=attr1_1, x=attr, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'NO' to meeting again", x="What people actually scored ATTRACTIVENESS on the scorecard ", y="What people intially said about ATTRACTIVENESS")
```
Even if it is being thought as one of the most important parameters in partner selection,it is suprising that attractivess attribute has a week positive correlation gradient among the participants from different ethnicity when choosing a partner.On contrast,when refusing, it gains a slightly more importance.Thus,not while choosing but while refusing attracttivess matters for people.

####6. Sincere Attribute####

```{r echo = FALSE, warning=FALSE, message=FALSE}
ggplot(matchedset, aes(y=sinc1_1, x=sinc, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'YES' to meeting again", x="What people actually scored on the scorecard ", y="What people intially said about SINCERITY")

ggplot(nomatchset, aes(y=sinc1_1, x=sinc, color = factor(race)))+
  geom_point(pch=5)+
  geom_smooth(method = 'lm')+labs(title="People who said 'NO' to meeting again", x="What people actually scored SINCERITY on the scorecard ", y="What people intially said about SINCERITY")
```

Last but not least,while it possible to mention a weak positive correlation on sincerity attribute for Asian/Pacific Islander Americans,Europen-Caucasion and Latino Americans,there is a relatively strong negative correlation for the remaining two nations.What we can understand from this result that,even if at the beginning sincerity was not among the the most important parameters in partner selection,in the end for those with negative correlation it played an important role.

###Linear Modelling of Decision###

```{r echo = FALSE, warning=FALSE, message=FALSE}
Blck_Afr_American <- filter(originset, race=="1")
Eurpn_Cauc_American <- filter(originset, race=="2")
Latno_Hspanc_American<- filter(originset, race=="3")
Asn_Pacific_American<- filter(originset, race=="4")
Other<- filter(originset, race=="6")
```

**Linear Model for Decision by Black/African Americans**
```{r echo = FALSE, warning=FALSE, message=FALSE}
m1 <- lm(formula = dec ~ attr + shar+intel, data = Blck_Afr_American)
summary(m1)
```

**Linear Model for Decision by European/Caucasian-Americans**

```{r echo = FALSE, warning=FALSE, message=FALSE}
m2 <- lm(formula = dec ~ fun + attr + shar, data =Eurpn_Cauc_American)
summary(m2)
```

**Linear Model for Decision by Latino/Hispanic American**

```{r echo = FALSE, warning=FALSE, message=FALSE}
m3 <- lm(formula = dec ~ fun + attr + shar+sinc, data =Latno_Hspanc_American)
summary(m3)
```
**Linear Model for Decision by Asian/Pacific Islander/Asian-American**

```{r echo = FALSE, warning=FALSE, message=FALSE}
m4 <- lm(formula = dec ~ fun + attr + shar, data =Asn_Pacific_American)
summary(m4)
```
**Linear Model for Decision by Other**

```{r echo = FALSE, warning=FALSE, message=FALSE}
m5 <- lm(formula = dec ~ fun + attr + shar, data =Other)
summary(m5)
```

According to the results obtained by running linear regression  for each race on different attributes,being fun,attractive and having shared interests play a more significant role in partner selection compare to the other attributes withing all the races except the Black African Americans where intelligence replaces the "fun" attribute.
